<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>
<script>
    var debounce = function(fn, wait) {
        var timeOut = null;
        return function() {
            var content = this;
            var arg = arguments;
            if (timeOut != null) {
                clearTimeout(timeOut)
            };
            timeOut = setTimeout(function() {
                fn.apply(content, arg)
            }, wait)
        }

    }

    var throttle = function(fn, delay) {
        var prv = Date.now();
        return function() {
            var content = this;
            var arg = arguments;
            var now = Date.now();
            if (now - prv >= delay) {
                fn.apply(content, arg);
                pre = Date.now();
            }
        }
    }

    /*Array.reduce()*/
    var numbers = [65, 44, 12, 4];

    function getSum(total, num, currentIndex, arr) {
        console.log('è¿™æ˜¯åˆå§‹totalå’Œnum:' + total + '---' + num + '----' + currentIndex + '----' + arr)
        return total + num;
    };
    console.log(numbers.reduce(getSum, 0));
    /*Array.reduce()*/


    /*æ‰‹åŠ¨å®ç°Array.reduce()*/
    Array.prototype.fakeReduce = function fakeReduce(fn, base) {
        if (typeof fn !== "function") {
            throw new TypeError("arguments[0] is not a function");
        }
        let initialArr = this;
        let arr = initialArr.concat(); //å¾—åˆ°å‰¯æœ¬

        if (base) arr.unshift(base); // å½“å­˜åœ¨å½’å¹¶åŸºç¡€å€¼çš„å‚æ•°æ—¶ï¼Œå°†å…¶ä»æ•°ç»„é¦–éƒ¨æ¨å…¥
        let index, newValue;

        while (arr.length > 1) {
            index = initialArr.length - arr.length + 1; // å½“å­˜åœ¨å½’å¹¶åŸºç¡€å€¼çš„å‚æ•°æ—¶ï¼Œindexä»0å¼€å§‹ï¼Œå¦åˆ™indexä»1å¼€å§‹ğŸ‘Œ
            newValue = fn.call(null, arr[0], arr[1], index, initialArr);

            arr.splice(0, 2, newValue); // ç›´æ¥ç”¨ splice å®ç°æ›¿æ¢
        }

        return newValue;
    };
    /*æ‰‹åŠ¨å®ç°Array.reduce()*/
</script>

</html>